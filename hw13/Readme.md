# Домашнее задание №13

## Ввести авторизацию на основе URL и/или доменных сущностей

**Цель:** научиться защищать приложение с помощью полноценной авторизации и разграничением прав доступа

**Результат:** полноценное приложение с безопасностью на основе Spring Security

**Описание/Пошаговая инструкция выполнения домашнего задания:**

Внимание! Задание выполняется на основе нереактивного приложения Sping MVC!

1. Минимум: настроить в приложении авторизацию на уровне URL.
    
2. Максимум: настроить в приложении авторизацию на основе доменных сущностей и методов сервиса. Рекомендации по выполнению:
    
3. Не рекомендуется выделять пользователей с разными правами в разные классы - т.е. просто один класс пользователя.
    
4. В случае авторизации на основе доменных сущностей и PostgreSQL не используйте GUID для сущностей.
    
5. Написать тесты контроллеров, которые проверяют, что все необходимые ресурсы действительно защищены Данное задание НЕ засчитывает предыдущие!


## Решение

Аутентификация и авторизация реализованы для stateless REST-сервиса.

Аутентификация на основе токена (Authorization: Bearer XXXXXXXXX).

Авторизация по URL.

Клиентское приложение (Angular) в репозитории https://github.com/asp2403/2022-02-otus-spring-ui-popov/tree/main/hw13

### Пользователи и роли

Логин|Пароль|Полное имя|Роль
-----|------|----------|----
vpupkin|vp|Вася Пупкин|USER
esurov|es|Эдуард Суровый|MODERATOR
admin  |123|Иван Петров|ADMIN

### Разрешения

Роль|Разрешения
---|---
ANONYMOUS| Любой GET запрос к /api/*, auth/login
Аутентифицированный пользователь| + /auth/logout
USER|+ POST /api/comments
MODERATOR|+ DELETE /api/comments
ADMIN|+ POST, PUT, DELETE /api/books
